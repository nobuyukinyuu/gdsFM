[gd_scene load_steps=45 format=2]

[ext_resource path="res://main.gd" type="Script" id=1]
[ext_resource path="res://sys/panels/EGControl.tscn" type="PackedScene" id=2]
[ext_resource path="res://OP-CenterNode.tscn" type="PackedScene" id=3]
[ext_resource path="res://gfx/fonts/spelunkid_font.tres" type="BitmapFont" id=4]
[ext_resource path="res://gfx/al1.png" type="Texture" id=5]
[ext_resource path="res://gfx/al0.png" type="Texture" id=6]
[ext_resource path="res://gfx/al2.png" type="Texture" id=7]
[ext_resource path="res://gfx/al3.png" type="Texture" id=8]
[ext_resource path="res://gfx/al4.png" type="Texture" id=9]
[ext_resource path="res://gfx/al5.png" type="Texture" id=10]
[ext_resource path="res://gfx/al6.png" type="Texture" id=11]
[ext_resource path="res://gfx/al7.png" type="Texture" id=12]
[ext_resource path="res://gfx/al_custom.png" type="Texture" id=13]
[ext_resource path="res://OP-GraphEditor.gd" type="Script" id=14]
[ext_resource path="res://gfx/waveforms/1.png" type="Texture" id=15]
[ext_resource path="res://gfx/waveforms/6.png" type="Texture" id=16]
[ext_resource path="res://gfx/waveforms/5.png" type="Texture" id=17]
[ext_resource path="res://gfx/waveforms/4.png" type="Texture" id=18]
[ext_resource path="res://gfx/waveforms/2.png" type="Texture" id=19]
[ext_resource path="res://gfx/waveforms/7.png" type="Texture" id=20]
[ext_resource path="res://gfx/waveforms/0.png" type="Texture" id=21]
[ext_resource path="res://gfx/waveforms/3.png" type="Texture" id=22]
[ext_resource path="res://FMCore/AudioOutput.cs" type="Script" id=23]
[ext_resource path="res://sys/panels/CurveControl.tscn" type="PackedScene" id=24]
[ext_resource path="res://sys/panels/WaveformOptions.tscn" type="PackedScene" id=25]
[ext_resource path="res://PanelScope.gd" type="Script" id=26]
[ext_resource path="res://MIDI.gd" type="Script" id=27]
[ext_resource path="res://FMCore/Note.cs" type="Script" id=28]
[ext_resource path="res://sys/panels/tuning/TuningControl.tscn" type="PackedScene" id=29]
[ext_resource path="res://sys/ui/EnvelopeDisplay.tscn" type="PackedScene" id=30]
[ext_resource path="res://sys/panels/EGMillisecsInput.gd" type="Script" id=31]
[ext_resource path="res://gfx/ui/icon_millisecs.svg" type="Texture" id=32]
[ext_resource path="res://sys/panels/ProgramControl.gd" type="Script" id=33]
[ext_resource path="res://gfx/ui/godot_icons/tab_behind.png" type="Texture" id=34]
[ext_resource path="res://sys/ui/PitchDisplay.tscn" type="PackedScene" id=35]
[ext_resource path="res://sys/panels/PitchControl.gd" type="Script" id=36]
[ext_resource path="res://sys/ui/responseCurve/ResponsePreviewButton.tscn" type="PackedScene" id=37]

[sub_resource type="GDScript" id=1]
script/source = "extends VSlider

# Zero snap
func _on_Slider_gui_input(event):
	if event is InputEventMouseButton and !event.pressed:
		if abs(value) < 3:  value = 0

"

[sub_resource type="StyleBoxTexture" id=2]
content_margin_left = 16.0
content_margin_right = 8.0
texture = ExtResource( 34 )
region_rect = Rect2( 0, 0, 16, 16 )
margin_left = 5.0
margin_right = 5.0
margin_top = 5.0
expand_margin_left = 3.0
expand_margin_right = 3.0
expand_margin_bottom = 3.0

[sub_resource type="AudioStreamGenerator" id=3]
buffer_length = 0.15

[sub_resource type="GDScript" id=4]
script/source = "extends HSlider

func _ready():
	pass



func _on_Slider_value_changed(value):
#	var val =  54.0 / pow(2, value-1)
#	$\"../Label2\".text = String(val)

	
	var val = glue.EaseFast(0.25, value)
	var val2 = ease(0.25, value)
#	$\"../Label2\".text = \"%s: %s, %s = %s%%\" % [value, val, val2, (val-val2)*100]
	$\"../Label2\".text = \"%s: %s\" % [value, (1-value)*(1-value)]
"

[sub_resource type="GDScript" id=5]
script/source = "extends Timer
var blep = 0

func _ready():
	pass

func _process(_delta):
	blep +=1
	


func _on_Timer_timeout():
	owner.get_node(\"ProcessRate\").text = str(blep)
	blep = 0
"

[sub_resource type="GDScript" id=6]
script/source = "extends Label


func _physics_process(_delta):
	text = str($\"../Audio\".Polyphony())

#	if $\"../TC/Tuning\".currentEG:
#		text = \"\\n\" + str($\"../TC/Tuning\".currentEG.totalMultiplier)
	pass
"

[sub_resource type="Animation" id=7]
tracks/0/type = "value"
tracks/0/path = NodePath("AnimationPlayer:process_priority")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 2 ),
"update": 1,
"values": [ 0 ]
}

[node name="PatchEdit" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="MIDI" type="Node" parent="."]
script = ExtResource( 27 )

[node name="TC2" type="TabContainer" parent="."]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -824.0
margin_top = 24.0
margin_right = -472.0
margin_bottom = -216.0
custom_constants/top_margin = 1
custom_constants/side_margin = 12
tab_align = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Program" type="Control" parent="TC2"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0
script = ExtResource( 33 )

[node name="Name" type="HBoxContainer" parent="TC2/Program"]
anchor_right = 1.0
margin_top = 8.0
margin_right = -4.0
margin_bottom = 32.0
custom_constants/separation = 8
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="TC2/Program/Name"]
margin_top = 8.0
margin_right = 48.0
margin_bottom = 16.0
custom_fonts/font = ExtResource( 4 )
text = " Name:"

[node name="LineEdit" type="LineEdit" parent="TC2/Program/Name"]
margin_left = 56.0
margin_right = 340.0
margin_bottom = 24.0
size_flags_horizontal = 3
custom_fonts/font = ExtResource( 4 )
align = 2
placeholder_text = "(No Name)"
caret_blink = true

[node name="LineSep" type="Panel" parent="TC2/Program"]
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_top = -122.0
margin_bottom = -121.0
rect_min_size = Vector2( 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="TC2/Program"]
modulate = Color( 1, 1, 1, 0.454902 )
margin_left = 84.0
margin_top = 224.0
margin_right = 280.0
margin_bottom = 306.0
custom_constants/shadow_offset_x = 1
custom_constants/shadow_offset_y = 1
text = "TODO:
Master Transpose
Master Key response curve
Gain
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="V" type="VBoxContainer" parent="TC2/Program"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 56.0
custom_constants/separation = 16
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Transpose" type="HBoxContainer" parent="TC2/Program/V" groups=[
"slider",
]]
margin_right = 344.0
margin_bottom = 16.0
size_flags_horizontal = 3
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Lbl" type="Label" parent="TC2/Program/V/Transpose"]
margin_top = 4.0
margin_right = 72.0
margin_bottom = 12.0
custom_fonts/font = ExtResource( 4 )
text = "Transpose"
align = 1

[node name="Slider" type="HSlider" parent="TC2/Program/V/Transpose"]
margin_left = 76.0
margin_right = 308.0
margin_bottom = 16.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -24.0
max_value = 24.0
tick_count = 13
ticks_on_borders = true

[node name="Val" type="Label" parent="TC2/Program/V/Transpose"]
margin_left = 312.0
margin_top = 4.0
margin_right = 344.0
margin_bottom = 12.0
rect_min_size = Vector2( 32, 0 )
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="Gain" type="HBoxContainer" parent="TC2/Program/V"]
margin_top = 32.0
margin_right = 344.0
margin_bottom = 48.0
size_flags_horizontal = 3
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Lbl" type="Label" parent="TC2/Program/V/Gain"]
margin_top = 4.0
margin_right = 32.0
margin_bottom = 12.0
custom_fonts/font = ExtResource( 4 )
text = "Gain"
align = 1

[node name="Slider" type="HSlider" parent="TC2/Program/V/Gain"]
margin_left = 36.0
margin_right = 308.0
margin_bottom = 16.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -12.0
max_value = 12.0
allow_greater = true
allow_lesser = true
tick_count = 11
ticks_on_borders = true

[node name="Val" type="Label" parent="TC2/Program/V/Gain"]
margin_left = 312.0
margin_top = 4.0
margin_right = 344.0
margin_bottom = 12.0
rect_min_size = Vector2( 32, 0 )
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="LFO" type="Control" parent="TC2"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="Pitch" type="Control" parent="TC2"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0
script = ExtResource( 36 )

[node name="V" type="VSplitContainer" parent="TC2/Pitch"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="H" type="HBoxContainer" parent="TC2/Pitch/V"]
margin_right = 344.0
margin_bottom = 210.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Pal" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_right = 49.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Pal"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
custom_colors/font_color = Color( 1, 0.835294, 0.835294, 1 )
text = "~Atk"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Pal"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -100.0
tick_count = 21
ticks_on_borders = true
script = SubResource( 1 )

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Pal"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="Par" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 49.0
margin_right = 98.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Par"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
text = "+Atk"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Par"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
max_value = 10000.0
exp_edit = true
allow_greater = true
tick_count = 11
ticks_on_borders = true

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Par"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
mouse_filter = 0
mouse_default_cursor_shape = 2
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2
script = ExtResource( 31 )

[node name="Popup" type="PopupPanel" parent="TC2/Pitch/V/H/Par/Val"]
margin_left = 28.0
margin_top = 20.0
margin_right = 147.0
margin_bottom = 54.0
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Edit" type="LineEdit" parent="TC2/Pitch/V/H/Par/Val/Popup"]
margin_left = 4.0
margin_top = 4.0
margin_right = 115.0
margin_bottom = 30.0
custom_fonts/font = ExtResource( 4 )
custom_colors/selection_color = Color( 0.0784314, 0, 0.980392, 0.501961 )
custom_colors/font_color_selected = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 0.690196, 0.690196, 0.690196, 1 )
text = "0.0"
align = 2
max_length = 6
right_icon = ExtResource( 32 )
caret_blink = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Pdl" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 98.0
margin_right = 147.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Pdl"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
custom_colors/font_color = Color( 1, 0.84624, 0.476563, 1 )
text = "~Dcay"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Pdl"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -100.0
tick_count = 21
ticks_on_borders = true
script = SubResource( 1 )

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Pdl"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="Pdr" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 147.0
margin_right = 196.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Pdr"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
text = "+Dcay"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Pdr"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
max_value = 10000.0
exp_edit = true
allow_greater = true
tick_count = 11
ticks_on_borders = true

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Pdr"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
mouse_filter = 0
mouse_default_cursor_shape = 2
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2
script = ExtResource( 31 )

[node name="Popup" type="PopupPanel" parent="TC2/Pitch/V/H/Pdr/Val"]
margin_left = -36.0
margin_top = 20.0
margin_right = 83.0
margin_bottom = 54.0
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Edit" type="LineEdit" parent="TC2/Pitch/V/H/Pdr/Val/Popup"]
margin_left = 4.0
margin_top = 4.0
margin_right = 115.0
margin_bottom = 30.0
custom_fonts/font = ExtResource( 4 )
custom_colors/selection_color = Color( 0.0784314, 0, 0.980392, 0.501961 )
custom_colors/font_color_selected = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 0.690196, 0.690196, 0.690196, 1 )
text = "0.0"
align = 2
max_length = 6
right_icon = ExtResource( 32 )
caret_blink = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Psl" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 196.0
margin_right = 245.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Psl"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
custom_colors/font_color = Color( 0.701961, 1, 0.819608, 1 )
text = "SusLv"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Psl"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -100.0
tick_count = 21
ticks_on_borders = true
script = SubResource( 1 )

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Psl"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="Prr" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 245.0
margin_right = 294.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Prr"]
margin_right = 49.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
text = "+Rls"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Prr"]
margin_top = 12.0
margin_right = 49.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
max_value = 10000.0
exp_edit = true
allow_greater = true
tick_count = 11
ticks_on_borders = true

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Prr"]
margin_top = 202.0
margin_right = 49.0
margin_bottom = 210.0
mouse_filter = 0
mouse_default_cursor_shape = 2
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2
script = ExtResource( 31 )

[node name="Popup" type="PopupPanel" parent="TC2/Pitch/V/H/Prr/Val"]
margin_left = -100.0
margin_top = 20.0
margin_right = 19.0
margin_bottom = 54.0
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Edit" type="LineEdit" parent="TC2/Pitch/V/H/Prr/Val/Popup"]
margin_left = 4.0
margin_top = 4.0
margin_right = 115.0
margin_bottom = 30.0
custom_fonts/font = ExtResource( 4 )
custom_colors/selection_color = Color( 0.0784314, 0, 0.980392, 0.501961 )
custom_colors/font_color_selected = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 0.690196, 0.690196, 0.690196, 1 )
text = "0.0"
align = 2
max_length = 6
right_icon = ExtResource( 32 )
caret_blink = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Prl" type="VBoxContainer" parent="TC2/Pitch/V/H" groups=[
"slider",
]]
margin_left = 294.0
margin_right = 344.0
margin_bottom = 210.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TC2/Pitch/V/H/Prl"]
margin_right = 50.0
margin_bottom = 8.0
custom_fonts/font = ExtResource( 4 )
custom_colors/font_color = Color( 0.855149, 0.660156, 1, 1 )
text = "~Rls"
align = 1

[node name="Slider" type="VSlider" parent="TC2/Pitch/V/H/Prl"]
margin_top = 12.0
margin_right = 50.0
margin_bottom = 198.0
size_flags_horizontal = 3
size_flags_vertical = 3
min_value = -100.0
tick_count = 21
ticks_on_borders = true
script = SubResource( 1 )

[node name="Val" type="Label" parent="TC2/Pitch/V/H/Prl"]
margin_top = 202.0
margin_right = 50.0
margin_bottom = 210.0
custom_fonts/font = ExtResource( 4 )
text = "0"
align = 1
valign = 2

[node name="PitchDisplay" parent="TC2/Pitch/V" instance=ExtResource( 35 )]
margin_top = 222.0
margin_right = 344.0
margin_bottom = 324.0
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
par = 0.0
pdr = 0.0
prr = 0.0

[node name="TC" type="TabContainer" parent="."]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -456.0
margin_top = 24.0
margin_right = -40.0
margin_bottom = -216.0
custom_styles/tab_bg = SubResource( 2 )
custom_constants/top_margin = 8
custom_constants/side_margin = -1
tab_align = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="EGControl" parent="TC" instance=ExtResource( 2 )]
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="Curve" parent="TC" instance=ExtResource( 24 )]
visible = false
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="Tuning" parent="TC" instance=ExtResource( 29 )]
visible = false
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="Waveform" type="Tabs" parent="TC"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="Grid" type="GridContainer" parent="TC/Waveform"]
anchor_right = 1.0
margin_left = 4.0
margin_top = 4.0
margin_right = -4.0
margin_bottom = 76.0
custom_constants/vseparation = 12
custom_constants/hseparation = 12
columns = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="lblOsc" type="Label" parent="TC/Waveform/Grid"]
margin_right = 194.0
margin_bottom = 8.0
size_flags_horizontal = 3
custom_fonts/font = ExtResource( 4 )
text = "Oscillator:"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="lblMod" type="Label" parent="TC/Waveform/Grid"]
margin_left = 206.0
margin_right = 400.0
margin_bottom = 8.0
size_flags_horizontal = 3
custom_fonts/font = ExtResource( 4 )
text = "Modulation Technique: "
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Waveform" type="OptionButton" parent="TC/Waveform/Grid"]
margin_top = 20.0
margin_right = 194.0
margin_bottom = 68.0
rect_min_size = Vector2( 0, 48 )
custom_constants/hseparation = 8
text = "Sine"
icon = ExtResource( 21 )
items = [ "Sine", ExtResource( 21 ), false, 0, null, "Sawtooth", ExtResource( 15 ), false, 1, null, "Stepped Tri", ExtResource( 19 ), false, 2, null, "Square/Pulse", ExtResource( 22 ), false, 3, null, "Absolute Sine", ExtResource( 18 ), false, 4, null, "White Noise", ExtResource( 17 ), false, 5, null, "Pink Noise", ExtResource( 16 ), false, 6, null, "Brown Noise", ExtResource( 20 ), false, 7, null ]
selected = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Waveform2" type="OptionButton" parent="TC/Waveform/Grid"]
margin_left = 206.0
margin_top = 20.0
margin_right = 400.0
margin_bottom = 68.0
custom_constants/hseparation = 8
text = "Sine"
icon = ExtResource( 21 )
items = [ "Sine", ExtResource( 21 ), false, 0, null, "Sawtooth", ExtResource( 15 ), false, 1, null, "Stepped Tri", ExtResource( 19 ), false, 2, null, "Square/Pulse", ExtResource( 22 ), false, 3, null, "Absolute Sine", ExtResource( 18 ), false, 4, null, "White Noise", ExtResource( 17 ), false, 5, null, "Pink Noise", ExtResource( 16 ), false, 6, null, "Brown Noise", ExtResource( 20 ), false, 7, null ]
selected = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Options" parent="TC/Waveform" instance=ExtResource( 25 )]

[node name="Response" type="Control" parent="TC"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="KSR" parent="TC/Response" instance=ExtResource( 37 )]
margin_left = 4.0
margin_right = 120.0

[node name="KSL" parent="TC/Response" instance=ExtResource( 37 )]
margin_left = -4.0
margin_top = 104.0
margin_right = 120.0
margin_bottom = 200.0
text = "KeyScale Level"

[node name="VR" parent="TC/Response" instance=ExtResource( 37 )]
margin_left = 4.0
margin_top = 208.0
margin_right = 120.0
margin_bottom = 304.0
text = "Velocity"

[node name="GraphEdit" type="GraphEdit" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 16.0
margin_top = 104.0
margin_right = -840.0
margin_bottom = -16.0
snap_distance = 16
script = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="OP1" parent="GraphEdit" instance=ExtResource( 3 )]
margin_left = 24.0
margin_top = 56.0
margin_right = 168.0
margin_bottom = 204.0
offset = Vector2( 24, 56 )

[node name="OP2" parent="GraphEdit" instance=ExtResource( 3 )]
margin_left = 224.0
margin_top = 56.0
margin_right = 368.0
margin_bottom = 204.0
offset = Vector2( 224, 56 )

[node name="OP3" parent="GraphEdit" instance=ExtResource( 3 )]
margin_left = 56.0
margin_top = 216.0
margin_right = 200.0
margin_bottom = 364.0
offset = Vector2( 56, 216 )

[node name="OP4" parent="GraphEdit" instance=ExtResource( 3 )]
margin_left = 256.0
margin_top = 216.0
margin_right = 400.0
margin_bottom = 364.0
offset = Vector2( 256, 216 )

[node name="Output" type="GraphNode" parent="GraphEdit"]
margin_left = 192.0
margin_top = 384.0
margin_right = 296.0
margin_bottom = 440.0
mouse_filter = 1
title = "Output"
offset = Vector2( 192, 384 )
slot/0/left_enabled = true
slot/0/left_type = 1
slot/0/left_color = Color( 0.85098, 1, 0, 1 )
slot/0/right_enabled = false
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="GraphEdit/Output"]
margin_left = 16.0
margin_top = 24.0
margin_right = 88.0
margin_bottom = 48.0
rect_min_size = Vector2( 0, 24 )
text = "Speakers"
align = 1
valign = 1

[node name="Audio" type="AudioStreamPlayer" parent="."]
stream = SubResource( 3 )
volume_db = -6.0
script = ExtResource( 23 )

[node name="PreviewNote" type="Node" parent="Audio"]
script = ExtResource( 28 )

[node name="Slider" type="HSlider" parent="."]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 840.0
margin_top = 8.0
margin_right = 1096.0
margin_bottom = 56.0
min_value = -4.0
max_value = 5.0
step = 0.1
value = 1.0
ticks_on_borders = true
script = SubResource( 4 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ProcessRateTimer" type="Timer" parent="."]
autostart = true
script = SubResource( 5 )

[node name="ProcessRate" type="Label" parent="."]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -72.0
margin_top = 8.0
margin_right = -8.0
margin_bottom = 30.0
text = "FPS"
align = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="btnValidate" type="Button" parent="."]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 360.0
margin_top = -560.0
margin_right = 443.0
margin_bottom = -512.0
disabled = true
text = "Validate AL"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="."]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -72.0
margin_top = 24.0
margin_right = -6.0
margin_bottom = 38.0
text = "Polyphony"
align = 2
script = SubResource( 6 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Panel" type="ColorRect" parent="."]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -824.0
margin_top = -200.0
margin_right = -472.0
margin_bottom = -16.0
color = Color( 0, 0, 0, 1 )
script = ExtResource( 26 )
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Line2D" type="Line2D" parent="Panel"]
visible = false
width = 1.0
default_color = Color( 0.4, 0.501961, 1, 1 )
texture_mode = 1044891074
antialiased = true

[node name="lblAlgo" type="Label" parent="."]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 16.0
margin_top = -584.0
margin_right = 83.0
margin_bottom = -570.0
text = "Algorithm:"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Algorithm" type="OptionButton" parent="."]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 16.0
margin_top = -560.0
margin_right = -936.0
margin_bottom = -512.0
text = "Custom"
icon = ExtResource( 13 )
items = [ "4x Serial Modulation", ExtResource( 6 ), false, 0, null, "Double Mod 3x Serial", ExtResource( 5 ), false, 1, null, "Double Mod (Mode 1)", ExtResource( 7 ), false, 2, null, "Double Mod (Mode 2)", ExtResource( 8 ), false, 3, null, "2x Serial, 2x Parallel", ExtResource( 9 ), false, 4, null, "Common Modulator", ExtResource( 10 ), false, 5, null, "2x Serial + 2 Plain", ExtResource( 11 ), false, 6, null, "4x Parallel (Plain)", ExtResource( 12 ), false, 7, null, "Custom", ExtResource( 13 ), false, 8, null ]
selected = 8
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
"anims/New Anim" = SubResource( 7 )

[node name="EnvelopeDisplay" parent="." instance=ExtResource( 30 )]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -456.0
margin_top = -200.0
margin_right = -40.0
margin_bottom = -16.0
[connection signal="value_changed" from="TC2/Program/V/Gain/Slider" to="TC2/Program" method="_on_Gain_value_changed"]
[connection signal="item_selected" from="TC/Waveform/Grid/Waveform" to="." method="_on_Waveform_item_selected"]
[connection signal="item_selected" from="TC/Waveform/Grid/Waveform2" to="." method="_on_Waveform_item_selected" binds= [ true ]]
[connection signal="changed" from="GraphEdit" to="." method="_on_GraphEdit_changed"]
[connection signal="connection_request" from="GraphEdit" to="GraphEdit" method="_on_GraphEdit_connection_request"]
[connection signal="disconnection_request" from="GraphEdit" to="GraphEdit" method="_on_GraphEdit_disconnection_request"]
[connection signal="node_selected" from="GraphEdit" to="." method="_on_GraphEdit_node_selected"]
[connection signal="value_changed" from="Slider" to="Slider" method="_on_Slider_value_changed"]
[connection signal="timeout" from="ProcessRateTimer" to="ProcessRateTimer" method="_on_Timer_timeout"]
[connection signal="pressed" from="btnValidate" to="." method="_on_btnValidate_pressed"]
[connection signal="item_selected" from="Algorithm" to="." method="_on_Algorithm_item_selected"]
